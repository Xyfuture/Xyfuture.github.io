<!doctype html><html lang=zh-cn><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog - Xyfuture's Blog</title><meta name=Description content="This is my cool site"><meta property="og:title" content="ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog"><meta property="og:description" content="å‰è¨€ è¿™æ˜¯ç¬¬ä¸‰æ¬¡æ­åšå®¢äº†ï¼Œç¬¬ä¸€æ¬¡ç”¨hexoæ„å»ºçš„ï¼Œè¦æ±‚æœºå­ä¸Šå¿…é¡»æœ‰nodejsç¯å¢ƒï¼Œè·¨è®¾å¤‡èƒ½åŠ›è¾ƒå·®ï¼Œæ”¾å¼ƒäº†ï¼Œç¬¬äºŒæ¬¡ä½¿ç”¨hugoæ„å»ºçš„ï¼Œhugo"><meta property="og:type" content="article"><meta property="og:url" content="http://xyfuture.github.io/posts/hugo%E9%85%8D%E7%BD%AE/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-07-15T00:00:00+00:00"><meta property="article:modified_time" content="2022-07-15T00:00:00+00:00"><meta property="og:site_name" content="My cool site"><meta name=twitter:card content="summary"><meta name=twitter:title content="ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog"><meta name=twitter:description content="å‰è¨€ è¿™æ˜¯ç¬¬ä¸‰æ¬¡æ­åšå®¢äº†ï¼Œç¬¬ä¸€æ¬¡ç”¨hexoæ„å»ºçš„ï¼Œè¦æ±‚æœºå­ä¸Šå¿…é¡»æœ‰nodejsç¯å¢ƒï¼Œè·¨è®¾å¤‡èƒ½åŠ›è¾ƒå·®ï¼Œæ”¾å¼ƒäº†ï¼Œç¬¬äºŒæ¬¡ä½¿ç”¨hugoæ„å»ºçš„ï¼Œhugo"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://xyfuture.github.io/posts/hugo%E9%85%8D%E7%BD%AE/><link rel=prev href=http://xyfuture.github.io/posts/test2/><link rel=next href=http://xyfuture.github.io/posts/xmake%E4%BD%93%E9%AA%8C/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/xyfuture.github.io\/posts\/hugo%E9%85%8D%E7%BD%AE\/"},"genre":"posts","wordcount":2032,"url":"http:\/\/xyfuture.github.io\/posts\/hugo%E9%85%8D%E7%BD%AE\/","datePublished":"2022-07-15T00:00:00+00:00","dateModified":"2022-07-15T00:00:00+00:00","publisher":{"@type":"Organization","name":""},"author":{"@type":"Person","name":"xyfuture"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title="Xyfuture's Blog">Xyfuture's Blog</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/categories/>åˆ†ç±» </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder="Search titles or contents..." id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span>
</span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title="Xyfuture's Blog">Xyfuture's Blog</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder="Search titles or contents..." id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=Search><i class="fas fa-search fa-fw" aria-hidden=true></i></a>
<a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=Clear><i class="fas fa-times-circle fa-fw" aria-hidden=true></i></a>
<span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>Cancel</a></div><a class=menu-item href=/posts/ title>æ–‡ç« </a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/categories/ title>åˆ†ç±»</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>Contents</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=about title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>xyfuture</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2022-07-15>2022-07-15</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;2032 words&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;5 minutes&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>Contents</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents></nav></div></div><div class=content id=content><h1 id=å‰è¨€>å‰è¨€</h1><p>è¿™æ˜¯ç¬¬ä¸‰æ¬¡æ­åšå®¢äº†ï¼Œç¬¬ä¸€æ¬¡ç”¨hexoæ„å»ºçš„ï¼Œè¦æ±‚æœºå­ä¸Šå¿…é¡»æœ‰nodejsç¯å¢ƒï¼Œè·¨è®¾å¤‡èƒ½åŠ›è¾ƒå·®ï¼Œæ”¾å¼ƒäº†ï¼Œç¬¬äºŒæ¬¡ä½¿ç”¨hugoæ„å»ºçš„ï¼Œhugoæœ¬èº«åªæœ‰å¯æ‰§è¡Œæ–‡ä»¶ï¼Œè·¨è®¾å¤‡èƒ½åŠ›å¾ˆå¥½ï¼Œä½†æ˜¯å…¶æ„å»ºæ—¶ä¹Ÿè¦ç»´æŠ¤ä¸€ä¸ªé™æ€èµ„æºçš„ç¯å¢ƒï¼Œä¹Ÿæ˜¯ä¸€å †æ–‡ä»¶ï¼Œäºæ˜¯åˆæ”¾å¼ƒäº†ã€‚å½“ç„¶å‰é¢è¿™ä¸¤ç‚¹éƒ½æ˜¯ä¸ºæˆ‘ä¸æƒ³å†™åšå®¢æ‰¾å€Ÿå£ğŸ¤£ã€‚</p><p>è¿™æ¬¡æ„å»ºä½¿ç”¨çš„è¿˜æ˜¯hugoï¼Œä½†æ˜¯ä¸ºäº†æ‹œæ‰˜ç¯å¢ƒçš„ä¾èµ–ï¼Œæˆ‘æŠŠæ„å»ºå·¥ä½œæ”¾åˆ°Github actionsä¸Šè¿›è¡Œäº†ï¼Œç°åœ¨æœ¬åœ°ç†è®ºä¸Šåªéœ€è¦ä¿å­˜åŸå§‹çš„markdownæ–‡ä»¶å³å¯ï¼Œpushåˆ°è¿œç¨‹ä»“åº“ä¹‹åï¼Œç”±GitHub Actionè‡ªåŠ¨å®Œæˆæ„å»ºå¹¶å‘å¸ƒåˆ°Github Pageä¸Šï¼Œä¸ªäººä»…éœ€è¦å®Œæˆå†™ä½œå·¥ä½œï¼Œæ„å»ºå‘å¸ƒçš„äº‹æƒ…å®Œå…¨è‡ªåŠ¨åŒ–äº†ï¼Œè¿™ä¸‹â€œç†è®ºä¸Šâ€ä¹Ÿæ²¡æœ‰æ‹–ç€ä¸å†™çš„ç†ç”±äº†ã€‚</p><h1 id=hugoé…ç½®>Hugoé…ç½®</h1><p>Hugoæœ¬èº«æ˜¯ç”¨goç¼–å†™çš„ï¼Œæœ€åæ„å»ºå‡ºæ¥æ˜¯ä¸€ä¸ªbinaryæ–‡ä»¶ï¼Œç›¸è¾ƒäºè„šæœ¬è¯­è¨€ï¼Œä¸€ä¸ªbinaryçš„ä¾¿æºæ€§å¤§å¤§å¢å¼ºï¼Œä¸éœ€è¦åƒnodejsä¸€æ ·å…ˆé…ç½®nodeç¯å¢ƒã€‚</p><p>Hugoçš„å·¥ä½œæ¯”è¾ƒåƒç¼–è¯‘å™¨ï¼ŒæŠŠmarkdownæºæ–‡ä»¶è½¬æ¢æˆå¸¦æ ·å¼çš„htmlç½‘é¡µã€‚å…·ä½“çš„æ ·å¼ä¹Ÿå°±æ˜¯ä¸»é¢˜æ˜¯å¯ä»¥é…ç½®çš„ï¼Œæœ‰å¤§é‡çš„ç¬¬ä¸‰æ–¹ä¸»é¢˜å¯ä¾›æˆ‘ä»¬ä½¿ç”¨ï¼Œè¿™é‡Œä½¿ç”¨çš„ä¸»é¢˜æ˜¯LoveItï¼Œæ¯”è¾ƒç®€æ´ï¼Œæ”¯æŒå…¬å¼ï¼Œé…ç½®æ–‡æ¡£å†™çš„ä¹Ÿè¿˜ä¸é”™ã€‚Hugoä½¿ç”¨å‰éœ€è¦ä½¿ç”¨<code>hugo init</code>åˆ›å»ºä¸€ä¸ªå·¥ä½œç›®å½•ï¼Œåœ¨é‡Œé¢æˆ‘ä»¬ä¼šæ”¾ç½®å„ç±»é™æ€æ–‡ä»¶å’Œä¸»é¢˜æ–‡ä»¶ï¼ŒåŒæ—¶æŠŠmarkdownæ–‡ä»¶æ”¾ç½®åˆ°contentæ–‡ä»¶å¤¹ä¸‹ï¼Œéšåè°ƒç”¨<code>hugo</code>,Hugoå°±ä¼šæ ¹æ®ç›®å½•ä¸‹çš„å„ç±»æ–‡ä»¶æ„å»ºå‡ºhtmlæ–‡ä»¶ï¼Œå¹¶æŠŠç”Ÿæˆçš„ç»“æœæ”¾ç½®åˆ°publicæ–‡ä»¶å¤¹ä¸‹ã€‚æˆ‘ä»¬æŠŠpublicæ–‡ä»¶å¤¹ä¸‹çš„å†…å®¹pushåˆ°Github Pageä»“åº“ä¸­ï¼Œè®¿é—®Github Pageå°±èƒ½çœ‹åˆ°è‡ªå·±çš„åšå®¢äº†ã€‚æœ¬åœ°æƒ³è¦ç›´æ¥é¢„è§ˆçš„è¯å¯ä»¥ä½¿ç”¨<code>hugo server</code>ï¼Œä»–ä¼šæ£€æµ‹æ–‡ä»¶å˜åŒ–çš„æƒ…å†µï¼Œå®æ—¶è¿›è¡Œæ„å»ºï¼Œæ¯”è¾ƒæ–¹ä¾¿æµ‹è¯•æ—¶ä½¿ç”¨ã€‚</p><p>Hugoåœ¨æ„å»ºç½‘é¡µæ—¶ä¼šæ ¹æ®å·¥ä½œç›®å½•ä¸‹çš„config.tomlè¿›è¡Œå®šåˆ¶åŒ–é…ç½®ï¼Œæ¯”å¦‚æŒ‡å®šä¸»é¢˜ï¼Œç½‘é¡µä¸­ä½œè€…çš„ä¿¡æ¯ç­‰ç­‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨ä½¿ç”¨æ„å»ºç½‘é¡µå‰è¦å…ˆé…ç½®ä¸€ä¸‹config.tomlæ–‡ä»¶ï¼Œè¯¦ç»†çš„é…ç½®ä¿¡æ¯å¯ä»¥å»ä½ ä½¿ç”¨çš„ç¬¬ä¸‰æ–¹ä¸»é¢˜æ–‡æ¡£ä¸­æ‰¾ï¼Œå¤§éƒ¨åˆ†ä¸»é¢˜ä¼šç»™ä¸€ä¸ªæ¨¡æ¿ï¼Œç…§ç€æ”¹æ”¹å°±å¯ä»¥äº†ã€‚</p><h1 id=ä½¿ç”¨github-actionsè‡ªåŠ¨éƒ¨ç½²>ä½¿ç”¨Github Actionsè‡ªåŠ¨éƒ¨ç½²</h1><p>Github Actionsæ˜¯Githubæ¨å‡ºçš„ä¸€ä¸ªå…è´¹çš„æŒç»­é›†æˆæœåŠ¡ï¼Œå¯ä»¥ç†è§£ä¸ºGithubå…è´¹ç»™æˆ‘ä»¬ä¸€å°å°æœåŠ¡å™¨ï¼Œä¾›æˆ‘ä»¬æ‰§è¡Œä¸€äº›ç®€å•çš„ä»»åŠ¡ã€‚è‡³äºGithub Actionsçš„å…·ä½“å†…å®¹ï¼Œè¿™é‡Œå°±ä¸è¯¦ç»†è®²äº†ï¼Œè¯¦è§<a href=https://www.ruanyifeng.com/blog/2019/09/getting-started-with-github-actions.html target=_blank rel="noopener noreffer">Actions</a></p><p>æˆ‘æƒ³è¦çš„å°±æ˜¯æœ¬åœ°åªæœ‰åŸå§‹çš„markdownæ–‡ä»¶ï¼ŒHugoä»¥åŠå…¶ç›¸åº”çš„å·¥ä½œç›®å½•éƒ½ä¸åº”è¯¥å­˜å‚¨åœ¨æœ¬åœ°ä¸Šï¼Œå½“æˆ‘æŠŠæœ¬åœ°çš„markdownæ–‡ä»¶pushåˆ°Githubä¸Šæ—¶ï¼ŒGithub Actionsä¼šè‡ªåŠ¨ä½¿ç”¨Hugoè¿›è¡Œæ„å»ºï¼Œå¹¶å‘å¸ƒåˆ°Github Pageä¸Šã€‚</p><p>æˆ‘ä»¬éœ€è¦ä¸‰ä¸ªä»“åº“å®ç°æ•´ä»¶äº‹æƒ…ï¼Œåˆ†åˆ«æ˜¯blogä»“åº“ç”¨äºå­˜æ”¾åŸå§‹çš„markdownæ–‡ä»¶ï¼Œhugo_blog_envä»“åº“ç”¨äºå­˜æ”¾hugoçš„å·¥ä½œç›®å½•å’Œç¬¬ä¸‰æ–¹ä¸»é¢˜ï¼Œæœ€åä¸€ä¸ªæ˜¯å­˜æ”¾Github Pageçš„ä»“åº“ã€‚blogä»“åº“ä»…å­˜å‚¨åŸå§‹çš„markdownæ–‡ä»¶ï¼Œå…¶ä½œä¸ºä¸€ä¸ªsubmoduleé“¾æ¥åˆ°hugo_blog_envä»“åº“çš„contentæ–‡ä»¶å¤¹ä¸‹ã€‚é¦–å…ˆåœ¨blogä»“åº“ä¸­å¼€ä¸€ä¸ªactionï¼Œå…¶è¦åœ¨å‘ç”Ÿpushä¹‹åï¼Œå‘hugo_blog_envä»“åº“å‘é€repository dispatchä¿¡å·ï¼Œå‘Šè¯‰hugo_blog_envä»“åº“è‡ªå·±è¢«æ›´æ–°äº†ï¼Œhugo_blog_envä»“åº“åœ¨æ”¶åˆ°repository dispatchä¹‹åå¼€å§‹æ„å»ºå·¥ä½œï¼Œé¦–å…ˆæŠŠæœ€æ–°çš„blogä»“åº“æœ€æ–°çš„å†…å®¹æ‹‰ä¸‹æ¥åˆ°contentæ–‡ä»¶å¤¹ä¸‹ï¼Œç„¶åæ‹‰å»hugoçš„binaryï¼Œå¼€å§‹æ„å»ºï¼Œå¹¶å°†æ„å»ºçš„ç»“æœéƒ¨ç½²åˆ°Github Pageçš„ä»“åº“ä¸­ï¼Œæœ€åæŠŠæœ€æ–°çš„ç»“æœæäº¤åˆ°hugo_blog_envä¸­ã€‚è¿™é‡Œé¢å¾ˆå¤šè„šæœ¬éƒ½æ˜¯ä½¿ç”¨å…¶ä»–äººå†™å¥½çš„ï¼Œæ‰€ä»¥å®ç°èµ·æ¥æ¯”è¾ƒç®€å•ã€‚è¿™é‡ŒæŠŠè„šæœ¬è®°å½•ä¸€ä¸‹</p><p>blog -> hugo_blog_env</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DeployGitHubPages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>push</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>branches</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=l>main </span><span class=w> </span><span class=c># Set a branch to deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>update</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-18.04</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Repository Dispatch</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peter-evans/repository-dispatch@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>token</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.REPO_ACCESS_TOKEN }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>repository</span><span class=p>:</span><span class=w> </span><span class=l>xyfuture/hugo_blog_env</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>event-type</span><span class=p>:</span><span class=w> </span><span class=l>blog_update</span><span class=w>
</span></span></span></code></pre></div><p>hugo_blog_env -> Github Page</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>DeployGitHubPages</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>on</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>repository_dispatch</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>types</span><span class=p>:</span><span class=w> </span><span class=p>[</span><span class=l>blog_update]</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#  push:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#    branches:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=c>#      - main  # Set a branch to deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nt>jobs</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  </span><span class=nt>deploy</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>runs-on</span><span class=p>:</span><span class=w> </span><span class=l>ubuntu-18.04</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>    </span><span class=nt>steps</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>actions/checkout@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>submodules</span><span class=p>:</span><span class=w> </span><span class=l>recursive </span><span class=w> </span><span class=c># Fetch Hugo themes (true OR recursive)</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>fetch-depth</span><span class=p>:</span><span class=w> </span><span class=m>0</span><span class=w>    </span><span class=c># Fetch all history for .GitInfo and .Lastmod</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Pull Content</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          cd ./content
</span></span></span><span class=line><span class=cl><span class=sd>          git pull origin main</span><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Setup Hugo</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-hugo@v2</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=c># hugo-version: &#39;${{ steps.hugo-version.outputs.HUGO_VERSION }}&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>hugo-version</span><span class=p>:</span><span class=w> </span><span class=s1>&#39;0.101.0&#39;</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>extended</span><span class=p>:</span><span class=w> </span><span class=kc>true</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Build</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>run</span><span class=p>:</span><span class=w> </span><span class=l>hugo --minify</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>name</span><span class=p>:</span><span class=w> </span><span class=l>Deploy</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>peaceiris/actions-gh-pages@v3</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=nt>with</span><span class=p>:</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>deploy_key</span><span class=p>:</span><span class=w> </span><span class=l>${{ secrets.ACTIONS_DEPLOY_KEY }}</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>external_repository</span><span class=p>:</span><span class=w> </span><span class=l>xyfuture/xyfuture.github.io</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_branch</span><span class=p>:</span><span class=w> </span><span class=l>main</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>          </span><span class=nt>publish_dir</span><span class=p>:</span><span class=w> </span><span class=l>./public</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>      </span>- <span class=nt>uses</span><span class=p>:</span><span class=w> </span><span class=l>stefanzweifel/git-auto-commit-action@v4</span><span class=w>
</span></span></span></code></pre></div><p>è¿™é‡Œé¢è¿˜æœ‰å‡ ä¸ªéœ€è¦é…ç½®çš„ä¿¡æ¯ï¼Œé¦–å…ˆå‘é€Repository Dispatchè¯·æ±‚éœ€è¦ç”³è¯·ä¸€ä¸ªGithub PAT(Personal Access Token),ç„¶åä»ä¸€ä¸ªä»“åº“æäº¤åˆ°å¦ä¸€ä¸ªä»“åº“éœ€è¦ä¸€ä¸ªDeploy Key(RSA key)ã€‚</p><p>æœ€åæ‰€æœ‰è¿™äº›éƒ½å®Œæˆåï¼Œæµ‹è¯•ä¸€ä¸‹çœ‹çœ‹èƒ½ä¸èƒ½é€šï¼Œå¦‚æœå¯ä»¥çš„è¯æ„å»ºéƒ¨ç½²å°±å®Œå…¨è‡ªåŠ¨äº†ï¼Œæœ¬åœ°ä»…åŒæ­¥blogä»“åº“ï¼Œå†™äº†æ–°çš„markdownå°±pushä¸Šå»ï¼Œç„¶ååœ¨hugo_blog_envä¸­è‡ªåŠ¨æ„å»ºå‡ºæ–°çš„ç½‘é¡µå¹¶å‘å¸ƒåˆ°Github Pageä¸Šï¼Œé€Ÿåº¦çš„è¯æ„Ÿè§‰ä¹Ÿè¿˜è¡Œï¼Œæ•´ä¸ªä¸€å¥—è·‘ä¸‹æ¥2minä¹‹å†…åŸºæœ¬ä¸Šä¹Ÿå°±å®Œæˆäº†ã€‚</p><h1 id=åè®°>åè®°</h1><p>ç»è¿‡è¿™ä¸€ç•ªæŠ˜è…¾ï¼Œå¤§è‡´äº†è§£äº†Github Actionsçš„è¿ä½œæµç¨‹ï¼Œä¹Ÿå®ç°äº†åšå®¢çš„è‡ªåŠ¨éƒ¨ç½²ï¼Œä»¥åä¸æ›´åšå®¢çš„ç†ç”±å¯èƒ½çœŸçš„åªæœ‰æ‡’äº†ï¼Œè™½ç„¶ä¹‹å‰ä¹Ÿæ˜¯hhhhã€‚</p></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2022-07-15</span></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span><a href=javascript:void(0); title="Share on Twitter" data-sharer=twitter data-url=http://xyfuture.github.io/posts/hugo%E9%85%8D%E7%BD%AE/ data-title="ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog"><i class="fab fa-twitter fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Facebook" data-sharer=facebook data-url=http://xyfuture.github.io/posts/hugo%E9%85%8D%E7%BD%AE/><i class="fab fa-facebook-square fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Hacker News" data-sharer=hackernews data-url=http://xyfuture.github.io/posts/hugo%E9%85%8D%E7%BD%AE/ data-title="ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog"><i class="fab fa-hacker-news fa-fw" aria-hidden=true></i></a><a href=javascript:void(0); title="Share on Line" data-sharer=line data-url=http://xyfuture.github.io/posts/hugo%E9%85%8D%E7%BD%AE/ data-title="ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog"><i data-svg-src=https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg aria-hidden=true></i></a><a href=javascript:void(0); title="Share on å¾®åš" data-sharer=weibo data-url=http://xyfuture.github.io/posts/hugo%E9%85%8D%E7%BD%AE/ data-title="ä½¿ç”¨Github Actionséƒ¨ç½²Hugo Blog"><i class="fab fa-weibo fa-fw" aria-hidden=true></i></a></span></div></div></div><div class=post-info-more><section class=post-tags></section><section><span><a href=javascript:void(0); onclick=window.history.back()>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/posts/test2/ class=prev rel=prev title="Hello, World!"><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>Hello, World!</a>
<a href=/posts/xmake%E4%BD%93%E9%AA%8C/ class=next rel=next title=xmakeä½“éªŒ>xmakeä½“éªŒ<i class="fas fa-angle-right fa-fw" aria-hidden=true></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.101.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=about target=_blank>xyfuture</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i>
</a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script type=text/javascript src=https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lunr@2.3.9/lunr.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js></script><script type=text/javascript>window.config={code:{copyTitle:"Copy to clipboard",maxShownLines:100},comment:{},search:{highlightTag:"em",maxResultLength:10,noResultsFound:"No results found",snippetLength:50}}</script><script type=text/javascript src=/js/theme.min.js></script></body></html>